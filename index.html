<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <title>Emoji Status Changer</title>
        <script src="https://telegram.org/js/telegram-web-app.js"></script>
        <style>
            * {
                color: #c8c8c8;
                margin: 0;
                padding: 0;
                box-sizing: border-box;
                font-family: Georgia, 'Times New Roman', Times, serif;
            }
            body {
                background-color: #323232;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: flex-start;
            }
            #HB {
                background-color: #323c3c;
                display: flex;
                justify-content: space-between;
                align-items: center;
                border-radius: 0 0 1.5rem 1.5rem;
            }
            #ESC {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                font-size: 2rem;
                margin: 0.7rem
            }
            #emojiInput {
                margin: 3rem 0 0 0;
                padding: 1rem 1rem 1rem 1rem;
                border-radius: 1.2rem;
                border: none;
                background-color: #323c3c;
                font-size: 1rem;
            }
            #setEmoji {
                padding: 1rem 4.5rem 1rem 4.5rem;
                font-size: 1rem;
                border:none;
                border-radius: 1.2rem;
                transition: all 0.2s ease;
                background-color: rgba(255, 0, 225, 0.5);
                margin: 0.4rem;
            }
            #setEmoji:hover {
                background-color: rgba(127, 0, 112, 0.5);
            }
            #checkRequest {
                padding: 1rem 3.5rem 1rem 3.5rem;
                font-size: 1rem;
                border:none;
                border-radius: 1.2rem;
                transition: all 0.2s ease;
                background-color: rgba(255, 0, 0, 0.5);
            }
            #checkRequest:hover {
                background-color: rgba(127, 0, 0, 0.5);
            }
        </style>
    </head>
    
    <body>
        <header id="HB">
            <div id="ESC">Emoji Status Changer</div>
        </header>
        <input type="text" placeholder="Emoji ID" id="emojiInput">
        <button id="setEmoji">Change</button>
        <button id="checkRequest">Check</button>
    </body>
    <script>
        const tg = window.Telegram.WebApp;
        if (!tg) {
            window.alert('Please, open this WebApp in Telegram.');
        }
        document.getElementById('setEmoji').onclick = () => {
            const emojiId = document.getElementById('emojiInput').value;
            tg.setEmojiStatus(emojiId, {duration : 0});
        }
        document.getElementById('checkRequest').onclick = () => {
            tg.requestEmojiStatusAccess();
        }
    </script>
</html>
